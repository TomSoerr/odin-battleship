(()=>{"use strict";var n={208:(n,e,t)=>{t.d(e,{A:()=>A});var o=t(354),r=t.n(o),a=t(314),i=t.n(a)()(r());i.push([n.id,":root {\n  --font-family: -apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,\n  Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;\n  --col-1: white;\n  --col-2: black;\n  --col-3: rgb(255, 163, 163);\n}\n\n*, *::before, *::after {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n#content {\n  font-family: var(--font-family);\n  width: 100vw;\n  min-height: 100vh;\n  color: var(--col-2);\n  background-color: var(--col-1);\n  display: grid;\n  grid-template-rows: auto auto 1fr;\n  justify-items: center;\n  padding: 4rem;\n  gap: 4rem;\n  position: relative;\n}\n\n/* MAIN PAGE */\n\n#header {\n  grid-column: 1 / -1;\n  font-size: 4rem;\n}\n\n#footer {\n  grid-column: 1 / -1;\n  align-self: end;\n  color: var(--col-2);\n}\n\n#footer > a {\n  color: var(--col-2);\n}\n\n#gameboard-wrapper {\n  display: grid;\n  gap: 4rem;\n  justify-items: center;\n  width: 100%;\n  grid-template-columns: repeat(auto-fit, minmax(20rem, 1fr));\n}\n\n.gameboard {\n  display: grid;\n  grid-auto-rows: 1fr;\n  border: thin solid var(--col-2);\n  width: 20rem;\n  height: 20rem;\n}\n\n.board-cell {\n  border: thin solid var(--col-2);\n  position: relative;\n}\n\n.board-cell.hit::before,\n.board-cell.water::before {\n  content: '';\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n\n.board-cell.hit::before {\n  background-color: var(--col-1);\n  clip-path: polygon(20% 10%, 10% 20%, 40% 50%, 10% 80%, 20% 90%, 50% 60%, 80%\n  90%, 90% 80%, 60% 50%, 90% 20%, 80% 10%, 50% 40%);\n}\n\n.board-cell.water::before {\n  background-color: var(--col-2);\n  clip-path: polygon(10% 80%, 20% 90%, 90% 20%, 80% 10%);\n}\n\n.board-cell.ship,\n.board-cell.hover {\n  background-color: var(--col-2);\n}\n\n\n.board-cell.enemy:hover {\n  background-color: var(--col-3);\n  cursor: pointer;\n}\n\n.board-row {\n  display: grid;\n  grid-auto-flow: column;\n  justify-content: start;\n  grid-auto-columns: 1fr;\n}\n\n/* POPUP TO PLACE SHIPS */\n\n#popup-background {\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(97, 98, 117, 0.554);\n  /* margin-top: -4rem; */\n}\n\n#popup {\n  background-color: var(--col-1);\n  padding: 4rem;\n  border-radius: 1rem;\n  margin: 4rem auto;\n  width: min-content;\n  display: grid;\n  justify-items: center;\n  gap: 1rem;\n}\n\n#popup > p {\n  text-decoration: underline;\n}\n\n.select {\n  position: relative;\n}\n\n.select:hover::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  background-color: var(--col-2);\n}\n\n#rotate-button {\n  appearance: none;\n  padding: 0.25rem;\n  border: thin solid var(--col-2);\n  background-color: var(--col-1);\n  border-radius: 0.5rem;\n  font-size: 1rem;\n}\n\n#rotate-button:hover {\n  background-color: rgba(97, 98, 117, 0.554);\n}\n\n@media only screen and (max-width: 600px) {\n  :root {\n    font-size: 0.9rem;\n  }\n\n  .gameboard {\n    width: 15rem;\n    height: 15rem;\n  }\n\n  #content {\n    padding: 1rem;\n    gap: 2rem;\n  }\n\n  #gameboard-wrapper {\n    gap: 2rem;\n  }\n\n  #popup {\n    margin: 1rem auto;\n    padding: 2rem;\n    border-radius: 0.5rem;\n  }\n}\n\n/* ANNOUNCE WINNER  */\n\n#winner {\n  position: absolute;\n  text-align: center;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(97, 98, 117, 0.731);\n  font-size: 4rem;\n  padding: 4rem;\n  display: grid;\n  place-items: center;\n  color: var(--col-1);\n  opacity: 0;\n}\n\n#winner.show {\n  transition: opacity 2s;\n  opacity: 1;\n}\n","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;EACE;8CAC4C;EAC5C,cAAc;EACd,cAAc;EACd,2BAA2B;AAC7B;;AAEA;EACE,SAAS;EACT,UAAU;EACV,sBAAsB;AACxB;;AAEA;EACE,+BAA+B;EAC/B,YAAY;EACZ,iBAAiB;EACjB,mBAAmB;EACnB,8BAA8B;EAC9B,aAAa;EACb,iCAAiC;EACjC,qBAAqB;EACrB,aAAa;EACb,SAAS;EACT,kBAAkB;AACpB;;AAEA,cAAc;;AAEd;EACE,mBAAmB;EACnB,eAAe;AACjB;;AAEA;EACE,mBAAmB;EACnB,eAAe;EACf,mBAAmB;AACrB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,SAAS;EACT,qBAAqB;EACrB,WAAW;EACX,2DAA2D;AAC7D;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,+BAA+B;EAC/B,YAAY;EACZ,aAAa;AACf;;AAEA;EACE,+BAA+B;EAC/B,kBAAkB;AACpB;;AAEA;;EAEE,WAAW;EACX,WAAW;EACX,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,8BAA8B;EAC9B;mDACiD;AACnD;;AAEA;EACE,8BAA8B;EAC9B,sDAAsD;AACxD;;AAEA;;EAEE,8BAA8B;AAChC;;;AAGA;EACE,8BAA8B;EAC9B,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,sBAAsB;EACtB,sBAAsB;AACxB;;AAEA,yBAAyB;;AAEzB;EACE,eAAe;EACf,MAAM;EACN,SAAS;EACT,WAAW;EACX,YAAY;EACZ,0CAA0C;EAC1C,uBAAuB;AACzB;;AAEA;EACE,8BAA8B;EAC9B,aAAa;EACb,mBAAmB;EACnB,iBAAiB;EACjB,kBAAkB;EAClB,aAAa;EACb,qBAAqB;EACrB,SAAS;AACX;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,MAAM;EACN,YAAY;EACZ,WAAW;EACX,8BAA8B;AAChC;;AAEA;EACE,gBAAgB;EAChB,gBAAgB;EAChB,+BAA+B;EAC/B,8BAA8B;EAC9B,qBAAqB;EACrB,eAAe;AACjB;;AAEA;EACE,0CAA0C;AAC5C;;AAEA;EACE;IACE,iBAAiB;EACnB;;EAEA;IACE,YAAY;IACZ,aAAa;EACf;;EAEA;IACE,aAAa;IACb,SAAS;EACX;;EAEA;IACE,SAAS;EACX;;EAEA;IACE,iBAAiB;IACjB,aAAa;IACb,qBAAqB;EACvB;AACF;;AAEA,qBAAqB;;AAErB;EACE,kBAAkB;EAClB,kBAAkB;EAClB,MAAM;EACN,WAAW;EACX,YAAY;EACZ,0CAA0C;EAC1C,eAAe;EACf,aAAa;EACb,aAAa;EACb,mBAAmB;EACnB,mBAAmB;EACnB,UAAU;AACZ;;AAEA;EACE,sBAAsB;EACtB,UAAU;AACZ",sourcesContent:[":root {\n  --font-family: -apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,\n  Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;\n  --col-1: white;\n  --col-2: black;\n  --col-3: rgb(255, 163, 163);\n}\n\n*, *::before, *::after {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n#content {\n  font-family: var(--font-family);\n  width: 100vw;\n  min-height: 100vh;\n  color: var(--col-2);\n  background-color: var(--col-1);\n  display: grid;\n  grid-template-rows: auto auto 1fr;\n  justify-items: center;\n  padding: 4rem;\n  gap: 4rem;\n  position: relative;\n}\n\n/* MAIN PAGE */\n\n#header {\n  grid-column: 1 / -1;\n  font-size: 4rem;\n}\n\n#footer {\n  grid-column: 1 / -1;\n  align-self: end;\n  color: var(--col-2);\n}\n\n#footer > a {\n  color: var(--col-2);\n}\n\n#gameboard-wrapper {\n  display: grid;\n  gap: 4rem;\n  justify-items: center;\n  width: 100%;\n  grid-template-columns: repeat(auto-fit, minmax(20rem, 1fr));\n}\n\n.gameboard {\n  display: grid;\n  grid-auto-rows: 1fr;\n  border: thin solid var(--col-2);\n  width: 20rem;\n  height: 20rem;\n}\n\n.board-cell {\n  border: thin solid var(--col-2);\n  position: relative;\n}\n\n.board-cell.hit::before,\n.board-cell.water::before {\n  content: '';\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n\n.board-cell.hit::before {\n  background-color: var(--col-1);\n  clip-path: polygon(20% 10%, 10% 20%, 40% 50%, 10% 80%, 20% 90%, 50% 60%, 80%\n  90%, 90% 80%, 60% 50%, 90% 20%, 80% 10%, 50% 40%);\n}\n\n.board-cell.water::before {\n  background-color: var(--col-2);\n  clip-path: polygon(10% 80%, 20% 90%, 90% 20%, 80% 10%);\n}\n\n.board-cell.ship,\n.board-cell.hover {\n  background-color: var(--col-2);\n}\n\n\n.board-cell.enemy:hover {\n  background-color: var(--col-3);\n  cursor: pointer;\n}\n\n.board-row {\n  display: grid;\n  grid-auto-flow: column;\n  justify-content: start;\n  grid-auto-columns: 1fr;\n}\n\n/* POPUP TO PLACE SHIPS */\n\n#popup-background {\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(97, 98, 117, 0.554);\n  /* margin-top: -4rem; */\n}\n\n#popup {\n  background-color: var(--col-1);\n  padding: 4rem;\n  border-radius: 1rem;\n  margin: 4rem auto;\n  width: min-content;\n  display: grid;\n  justify-items: center;\n  gap: 1rem;\n}\n\n#popup > p {\n  text-decoration: underline;\n}\n\n.select {\n  position: relative;\n}\n\n.select:hover::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  background-color: var(--col-2);\n}\n\n#rotate-button {\n  appearance: none;\n  padding: 0.25rem;\n  border: thin solid var(--col-2);\n  background-color: var(--col-1);\n  border-radius: 0.5rem;\n  font-size: 1rem;\n}\n\n#rotate-button:hover {\n  background-color: rgba(97, 98, 117, 0.554);\n}\n\n@media only screen and (max-width: 600px) {\n  :root {\n    font-size: 0.9rem;\n  }\n\n  .gameboard {\n    width: 15rem;\n    height: 15rem;\n  }\n\n  #content {\n    padding: 1rem;\n    gap: 2rem;\n  }\n\n  #gameboard-wrapper {\n    gap: 2rem;\n  }\n\n  #popup {\n    margin: 1rem auto;\n    padding: 2rem;\n    border-radius: 0.5rem;\n  }\n}\n\n/* ANNOUNCE WINNER  */\n\n#winner {\n  position: absolute;\n  text-align: center;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(97, 98, 117, 0.731);\n  font-size: 4rem;\n  padding: 4rem;\n  display: grid;\n  place-items: center;\n  color: var(--col-1);\n  opacity: 0;\n}\n\n#winner.show {\n  transition: opacity 2s;\n  opacity: 1;\n}\n"],sourceRoot:""}]);const A=i},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,o,r,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(o)for(var A=0;A<this.length;A++){var c=this[A][0];null!=c&&(i[c]=!0)}for(var s=0;s<n.length;s++){var l=[].concat(n[s]);o&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},354:n=>{n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),a="/*# ".concat(r," */");return[e].concat([a]).join("\n")}return[e].join("\n")}},72:n=>{var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var a={},i=[],A=0;A<n.length;A++){var c=n[A],s=o.base?c[0]+o.base:c[0],l=a[s]||0,d="".concat(s," ").concat(l);a[s]=l+1;var p=t(d),u={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(u);else{var m=r(u,o);o.byIndex=A,e.splice(A,0,{identifier:d,updater:m,references:1})}i.push(d)}return i}function r(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,r){var a=o(n=n||[],r=r||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var A=t(a[i]);e[A].references--}for(var c=o(n,r),s=0;s<a.length;s++){var l=t(a[s]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=c}}},659:n=>{var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var a=e[o]={id:o,exports:{}};return n[o](a,a.exports,t),a.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0,(()=>{function n(){const n=function(){const n=["1","2","3","4","5","6","7","8","9","10"],e=["a","b","c","d","e","f","g","h","i","j"],t={};return e.forEach((e=>{n.forEach((n=>{t[e+n]=null}))})),{board:t,place:function({start:o,direction:r,length:a}){const i=function({length:n}){const e=[];for(let t=0;t<n;t+=1)e.push(!0);return{hit:function({relativeCoordinates:n}={relativeCoordinates:null}){if(null==n)throw new Error("No 'relativeCoordinates'");if(n<0||n>=e.length)throw new Error("Wrong 'relativeCoordinates'");e[n]=!1},isSunk:()=>e.every((n=>!n))}}({length:a}),{letter:A,number:c}=o.match(/^(?<letter>\w)(?<number>\d{1,2})$/).groups;let s=e.indexOf(A),l=n.indexOf(c);const d=[];for(let o=0;o<a;o+=1){if(null!==t[e[s]+n[l]])return!1;d.push(e[s]+n[l]),"vertical"===r?s+=1:"horizontal"===r&&(l+=1)}return d.forEach(((n,e)=>{var o;t[n]=(o=e,()=>(i.hit({relativeCoordinates:o}),i.isSunk()))})),!0},receiveAttack:function(n){if("function"==typeof t[n]){const e=t[n]();return t[n]="hit",e?Object.values(t).every((n=>"function"!=typeof n))?"allSunk":"sunk":"hit"}return t[n]="miss","miss"}}}(),e=e=>t=>n.place({...t,length:e}),t=function*(){yield["Carrier",5,e(5)],yield["Battleship",4,e(4)],yield["Cruiser",3,e(3)],yield["Destroyer",2,e(2)],yield["Destroyer",2,e(2)],yield["Submarine",1,e(1)],yield["Submarine",1,e(1)]};return{attack:function({gameboard:n,coordinates:e=null}){if(null===e){const e=Object.entries(n.board).filter((([n,e])=>"hit"!==e&&"miss"!==e)).map((([n,e])=>n));return n.receiveAttack(e[Math.floor(Math.random()*e.length)])}return n.receiveAttack(e)},receiveAttack:n.receiveAttack,board:n.board,placeShips:t,placeRandomShips:function(){const n=t(),e=["horizontal","vertical"],o=["1","2","3","4","5","6","7","8","9","10"],r=["a","b","c","d","e","f","g","h","i","j"];for(;;){const t=n.next(),{value:a,done:i}=t;if(i)break;const[,,A]=a;let c,s;do{c=r[Math.floor(Math.random()*r.length)]+o[Math.floor(Math.random()*o.length)],s=e[Math.floor(Math.random()*e.length)]}while(!A({start:c,direction:s}))}return!0}}}var e=t(72),o=t.n(e),r=t(825),a=t.n(r),i=t(659),A=t.n(i),c=t(56),s=t.n(c),l=t(540),d=t.n(l),p=t(113),u=t.n(p),m=t(208),f={};let h,E,b;f.styleTagTransform=u(),f.setAttributes=s(),f.insert=A().bind(null,"head"),f.domAPI=a(),f.insertStyleElement=d(),o()(m.A,f),m.A&&m.A.locals&&m.A.locals,function e(){h=n(),E=n(),b&&b.remove(),b=function(){const n=(n="div")=>document.createElement(n),e=n();e.id="content",document.body.append(e);const t={},o={},r=["a","b","c","d","e","f","g","h","i","j"],a=["1","2","3","4","5","6","7","8","9","10"],i=function(e,t=null){r.forEach((o=>{const r=n();r.classList.add("board-row"),a.forEach((e=>{const a=n();null!==t&&(t[o+e]=a),a.classList.add("board-cell"),r.append(a)})),e.append(r)}))},A=function({start:n,direction:e,length:t}){const o=[],{letter:i,number:A}=n.match(/^(?<letter>\w)(?<number>\d{1,2})$/).groups;let c=r.indexOf(i),s=a.indexOf(A);for(let n=0;n<t&&c<10&&s<10;n+=1)o.push(r[c]+a[s]),"vertical"===e?c+=1:"horizontal"===e&&(s+=1);return o};return{buildMainPage:function(r){const a=n("h1");a.id="header",a.textContent="Battleship";const A=n();A.classList.add("gameboard"),i(A,t);const c=n();c.classList.add("gameboard"),i(c,o),Object.entries(o).forEach((([n,e])=>{e.classList.add("enemy"),e.addEventListener("click",(function t(){r(n),e.classList.remove("enemy"),e.removeEventListener("click",t)}))}));const s=n();s.id="gameboard-wrapper",s.append(A,c);const l=n("p");l.id="footer";const d=n("a");d.textContent="View Project On Github",d.href="https://github.com/TomSoerr/odin-battleship",l.append(d),e.append(a,s,l);const p=document.createElement("template");p.innerHTML='\n        <a\n      style="\n        position: fixed;\n        bottom: 0;\n        right: 0;\n        color: black;\n        background-color: white;\n        text-decoration: none;\n        font-size: 16px;\n        font-family: sans-serif;\n        padding: 2px;\n        border: thin solid black;\n        text-decoration: underline;\n      "\n      href="https://tomsoerr.github.io/#/impressum"\n    >\n      Imprint\n    </a>\n    <span\n      style="\n        z-index: 1000;\n        position: fixed;\n        bottom: 0;\n        left: 0;\n        color: black;\n        background-color: white;\n        text-decoration: none;\n        font-size: 16px;\n        font-family: sans-serif;\n        padding: 2px;\n        border: thin solid black;\n      "\n    >\n      Not a commercial site, only for educational purposes.\n    </span>',document.body.append(p.content)},buildPlaceShipPopup:function(t,o){const r=n();r.id="popup";const a=n();a.id="popup-background";const c=n("h2");c.textContent="Place your ships";const s=n("p");let l,d;[s.textContent,l,d]=t.next().value;let p=!1;const u=n("button");u.id="rotate-button",u.textContent="Rotate",u.addEventListener("click",(()=>{p=!p}));const m=n();m.classList.add("gameboard");let f={};i(m,f),Object.entries(f).forEach((([n,e])=>{e.classList.add("select"),e.addEventListener("click",(()=>{const e=p?"vertical":"horizontal";if(d({start:n,direction:e})){A({length:l,direction:e,start:n}).forEach((n=>{f[n].classList.add("ship")}));const r=t.next().value;void 0!==r?[s.textContent,l,d]=r:(a.remove(),f=null,o())}})),e.addEventListener("mouseenter",(()=>{A({length:l,direction:p?"vertical":"horizontal",start:n}).forEach((n=>{f[n].classList.add("hover")}))})),e.addEventListener("mouseleave",(()=>{A({length:l,direction:p?"vertical":"horizontal",start:n}).forEach((n=>{f[n].classList.remove("hover")}))}))})),r.append(c,s,u,m),a.append(r),e.append(a)},render:function(n,e){Object.entries(n).forEach((([n,e])=>{switch(!0){case"function"==typeof e:t[n].classList.add("ship");break;case"miss"===e:t[n].classList.add("water");break;case"hit"===e:t[n].classList.add("hit")}})),Object.entries(e).forEach((([n,e])=>{"miss"===e?o[n].classList.add("water"):"hit"===e&&(o[n].classList.add("ship"),o[n].classList.add("hit"))}))},remove:()=>{for(;document.body.firstChild;)document.body.removeChild(document.body.lastChild)},announceWinner:function(t){const o=n();o.textContent=t,o.id="winner",e.append(o),setTimeout((()=>{o.classList.add("show")}),1)}}}(),b.buildMainPage((n=>{let t=h.attack({gameboard:E,coordinates:n});b.render(h.board,E.board),"allSunk"===t&&(b.announceWinner("The player is the winner"),setTimeout((()=>{e()}),5e3)),t=E.attack({gameboard:h}),b.render(h.board,E.board),"allSunk"===t&&(b.announceWinner("The computer is the winner"),setTimeout((()=>{e()}),5e3))})),b.buildPlaceShipPopup(h.placeShips(),(()=>{E.placeRandomShips(),b.render(h.board,E.board)}))}()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQVMxQyxJQUNmMEMsRUFBT3pCLFlBQWN3QixFQUNyQkMsRUFBT25OLEdBQUssU0FDWlEsRUFBUW9LLE9BQU91QyxHQUNmQyxZQUFXLEtBQ1RELEVBQU9oQyxVQUFVQyxJQUFJLE9BQU8sR0FDM0IsRUFDTCxFQVNGLENEclBRaUMsR0FFTi9DLEVBQUlrQixlQUFldEIsSUFDakIsSUFBSW9ELEVBQWVsRCxFQUFPaEIsT0FBTyxDQUMvQkMsVUFBV2dCLEVBQ1gxQixZQUFhdUIsSUFFZkksRUFBSWlDLE9BQU9uQyxFQUFPL0MsTUFBT2dELEVBQVNoRCxPQUNiLFlBQWpCaUcsSUFDRmhELEVBQUkyQyxlQUFlLDRCQUNuQkcsWUFBVyxLQUNUNUMsR0FBVSxHQUNULE1BRUw4QyxFQUFlakQsRUFBU2pCLE9BQU8sQ0FBRUMsVUFBV2UsSUFDNUNFLEVBQUlpQyxPQUFPbkMsRUFBTy9DLE1BQU9nRCxFQUFTaEQsT0FDYixZQUFqQmlHLElBQ0ZoRCxFQUFJMkMsZUFBZSw4QkFDbkJHLFlBQVcsS0FDVDVDLEdBQVUsR0FDVCxLQUNMLElBR0ZGLEVBQUlnQyxvQkFBb0JsQyxFQUFPakIsY0FBYyxLQUMzQ2tCLEVBQVNSLG1CQUNUUyxFQUFJaUMsT0FBT25DLEVBQU8vQyxNQUFPZ0QsRUFBU2hELE1BQU0sR0FFNUMsQ0FFQW1ELEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvcGxheWVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2FtZWJvYXJkLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc2hpcC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3N0eWxlLmNzcz83MTYzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9kb20uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYDpyb290IHtcbiAgLS1mb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSxCbGlua01hY1N5c3RlbUZvbnQsXCJTZWdvZSBVSVwiLFJvYm90byxPeHlnZW4tU2FucyxcbiAgVWJ1bnR1LENhbnRhcmVsbCxcIkhlbHZldGljYSBOZXVlXCIsc2Fucy1zZXJpZjtcbiAgLS1jb2wtMTogd2hpdGU7XG4gIC0tY29sLTI6IGJsYWNrO1xuICAtLWNvbC0zOiByZ2IoMjU1LCAxNjMsIDE2Myk7XG59XG5cbiosICo6OmJlZm9yZSwgKjo6YWZ0ZXIge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG59XG5cbiNjb250ZW50IHtcbiAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtZmFtaWx5KTtcbiAgd2lkdGg6IDEwMHZ3O1xuICBtaW4taGVpZ2h0OiAxMDB2aDtcbiAgY29sb3I6IHZhcigtLWNvbC0yKTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sLTEpO1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLXRlbXBsYXRlLXJvd3M6IGF1dG8gYXV0byAxZnI7XG4gIGp1c3RpZnktaXRlbXM6IGNlbnRlcjtcbiAgcGFkZGluZzogNHJlbTtcbiAgZ2FwOiA0cmVtO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi8qIE1BSU4gUEFHRSAqL1xuXG4jaGVhZGVyIHtcbiAgZ3JpZC1jb2x1bW46IDEgLyAtMTtcbiAgZm9udC1zaXplOiA0cmVtO1xufVxuXG4jZm9vdGVyIHtcbiAgZ3JpZC1jb2x1bW46IDEgLyAtMTtcbiAgYWxpZ24tc2VsZjogZW5kO1xuICBjb2xvcjogdmFyKC0tY29sLTIpO1xufVxuXG4jZm9vdGVyID4gYSB7XG4gIGNvbG9yOiB2YXIoLS1jb2wtMik7XG59XG5cbiNnYW1lYm9hcmQtd3JhcHBlciB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdhcDogNHJlbTtcbiAganVzdGlmeS1pdGVtczogY2VudGVyO1xuICB3aWR0aDogMTAwJTtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyMHJlbSwgMWZyKSk7XG59XG5cbi5nYW1lYm9hcmQge1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLWF1dG8tcm93czogMWZyO1xuICBib3JkZXI6IHRoaW4gc29saWQgdmFyKC0tY29sLTIpO1xuICB3aWR0aDogMjByZW07XG4gIGhlaWdodDogMjByZW07XG59XG5cbi5ib2FyZC1jZWxsIHtcbiAgYm9yZGVyOiB0aGluIHNvbGlkIHZhcigtLWNvbC0yKTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4uYm9hcmQtY2VsbC5oaXQ6OmJlZm9yZSxcbi5ib2FyZC1jZWxsLndhdGVyOjpiZWZvcmUge1xuICBjb250ZW50OiAnJztcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xufVxuXG4uYm9hcmQtY2VsbC5oaXQ6OmJlZm9yZSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbC0xKTtcbiAgY2xpcC1wYXRoOiBwb2x5Z29uKDIwJSAxMCUsIDEwJSAyMCUsIDQwJSA1MCUsIDEwJSA4MCUsIDIwJSA5MCUsIDUwJSA2MCUsIDgwJVxuICA5MCUsIDkwJSA4MCUsIDYwJSA1MCUsIDkwJSAyMCUsIDgwJSAxMCUsIDUwJSA0MCUpO1xufVxuXG4uYm9hcmQtY2VsbC53YXRlcjo6YmVmb3JlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sLTIpO1xuICBjbGlwLXBhdGg6IHBvbHlnb24oMTAlIDgwJSwgMjAlIDkwJSwgOTAlIDIwJSwgODAlIDEwJSk7XG59XG5cbi5ib2FyZC1jZWxsLnNoaXAsXG4uYm9hcmQtY2VsbC5ob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbC0yKTtcbn1cblxuXG4uYm9hcmQtY2VsbC5lbmVteTpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbC0zKTtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4uYm9hcmQtcm93IHtcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ3JpZC1hdXRvLWZsb3c6IGNvbHVtbjtcbiAganVzdGlmeS1jb250ZW50OiBzdGFydDtcbiAgZ3JpZC1hdXRvLWNvbHVtbnM6IDFmcjtcbn1cblxuLyogUE9QVVAgVE8gUExBQ0UgU0hJUFMgKi9cblxuI3BvcHVwLWJhY2tncm91bmQge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHRvcDogMDtcbiAgYm90dG9tOiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDk3LCA5OCwgMTE3LCAwLjU1NCk7XG4gIC8qIG1hcmdpbi10b3A6IC00cmVtOyAqL1xufVxuXG4jcG9wdXAge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2wtMSk7XG4gIHBhZGRpbmc6IDRyZW07XG4gIGJvcmRlci1yYWRpdXM6IDFyZW07XG4gIG1hcmdpbjogNHJlbSBhdXRvO1xuICB3aWR0aDogbWluLWNvbnRlbnQ7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGp1c3RpZnktaXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiAxcmVtO1xufVxuXG4jcG9wdXAgPiBwIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG59XG5cbi5zZWxlY3Qge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi5zZWxlY3Q6aG92ZXI6OmJlZm9yZSB7XG4gIGNvbnRlbnQ6ICcnO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sLTIpO1xufVxuXG4jcm90YXRlLWJ1dHRvbiB7XG4gIGFwcGVhcmFuY2U6IG5vbmU7XG4gIHBhZGRpbmc6IDAuMjVyZW07XG4gIGJvcmRlcjogdGhpbiBzb2xpZCB2YXIoLS1jb2wtMik7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbC0xKTtcbiAgYm9yZGVyLXJhZGl1czogMC41cmVtO1xuICBmb250LXNpemU6IDFyZW07XG59XG5cbiNyb3RhdGUtYnV0dG9uOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg5NywgOTgsIDExNywgMC41NTQpO1xufVxuXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYwMHB4KSB7XG4gIDpyb290IHtcbiAgICBmb250LXNpemU6IDAuOXJlbTtcbiAgfVxuXG4gIC5nYW1lYm9hcmQge1xuICAgIHdpZHRoOiAxNXJlbTtcbiAgICBoZWlnaHQ6IDE1cmVtO1xuICB9XG5cbiAgI2NvbnRlbnQge1xuICAgIHBhZGRpbmc6IDFyZW07XG4gICAgZ2FwOiAycmVtO1xuICB9XG5cbiAgI2dhbWVib2FyZC13cmFwcGVyIHtcbiAgICBnYXA6IDJyZW07XG4gIH1cblxuICAjcG9wdXAge1xuICAgIG1hcmdpbjogMXJlbSBhdXRvO1xuICAgIHBhZGRpbmc6IDJyZW07XG4gICAgYm9yZGVyLXJhZGl1czogMC41cmVtO1xuICB9XG59XG5cbi8qIEFOTk9VTkNFIFdJTk5FUiAgKi9cblxuI3dpbm5lciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB0b3A6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoOTcsIDk4LCAxMTcsIDAuNzMxKTtcbiAgZm9udC1zaXplOiA0cmVtO1xuICBwYWRkaW5nOiA0cmVtO1xuICBkaXNwbGF5OiBncmlkO1xuICBwbGFjZS1pdGVtczogY2VudGVyO1xuICBjb2xvcjogdmFyKC0tY29sLTEpO1xuICBvcGFjaXR5OiAwO1xufVxuXG4jd2lubmVyLnNob3cge1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IDJzO1xuICBvcGFjaXR5OiAxO1xufVxuYCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0U7OENBQzRDO0VBQzVDLGNBQWM7RUFDZCxjQUFjO0VBQ2QsMkJBQTJCO0FBQzdCOztBQUVBO0VBQ0UsU0FBUztFQUNULFVBQVU7RUFDVixzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSwrQkFBK0I7RUFDL0IsWUFBWTtFQUNaLGlCQUFpQjtFQUNqQixtQkFBbUI7RUFDbkIsOEJBQThCO0VBQzlCLGFBQWE7RUFDYixpQ0FBaUM7RUFDakMscUJBQXFCO0VBQ3JCLGFBQWE7RUFDYixTQUFTO0VBQ1Qsa0JBQWtCO0FBQ3BCOztBQUVBLGNBQWM7O0FBRWQ7RUFDRSxtQkFBbUI7RUFDbkIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixlQUFlO0VBQ2YsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLFNBQVM7RUFDVCxxQkFBcUI7RUFDckIsV0FBVztFQUNYLDJEQUEyRDtBQUM3RDs7QUFFQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsK0JBQStCO0VBQy9CLFlBQVk7RUFDWixhQUFhO0FBQ2Y7O0FBRUE7RUFDRSwrQkFBK0I7RUFDL0Isa0JBQWtCO0FBQ3BCOztBQUVBOztFQUVFLFdBQVc7RUFDWCxXQUFXO0VBQ1gsWUFBWTtFQUNaLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLDhCQUE4QjtFQUM5QjttREFDaUQ7QUFDbkQ7O0FBRUE7RUFDRSw4QkFBOEI7RUFDOUIsc0RBQXNEO0FBQ3hEOztBQUVBOztFQUVFLDhCQUE4QjtBQUNoQzs7O0FBR0E7RUFDRSw4QkFBOEI7RUFDOUIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsc0JBQXNCO0VBQ3RCLHNCQUFzQjtBQUN4Qjs7QUFFQSx5QkFBeUI7O0FBRXpCO0VBQ0UsZUFBZTtFQUNmLE1BQU07RUFDTixTQUFTO0VBQ1QsV0FBVztFQUNYLFlBQVk7RUFDWiwwQ0FBMEM7RUFDMUMsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0UsOEJBQThCO0VBQzlCLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixhQUFhO0VBQ2IscUJBQXFCO0VBQ3JCLFNBQVM7QUFDWDs7QUFFQTtFQUNFLDBCQUEwQjtBQUM1Qjs7QUFFQTtFQUNFLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxrQkFBa0I7RUFDbEIsTUFBTTtFQUNOLFlBQVk7RUFDWixXQUFXO0VBQ1gsOEJBQThCO0FBQ2hDOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGdCQUFnQjtFQUNoQiwrQkFBK0I7RUFDL0IsOEJBQThCO0VBQzlCLHFCQUFxQjtFQUNyQixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsMENBQTBDO0FBQzVDOztBQUVBO0VBQ0U7SUFDRSxpQkFBaUI7RUFDbkI7O0VBRUE7SUFDRSxZQUFZO0lBQ1osYUFBYTtFQUNmOztFQUVBO0lBQ0UsYUFBYTtJQUNiLFNBQVM7RUFDWDs7RUFFQTtJQUNFLFNBQVM7RUFDWDs7RUFFQTtJQUNFLGlCQUFpQjtJQUNqQixhQUFhO0lBQ2IscUJBQXFCO0VBQ3ZCO0FBQ0Y7O0FBRUEscUJBQXFCOztBQUVyQjtFQUNFLGtCQUFrQjtFQUNsQixrQkFBa0I7RUFDbEIsTUFBTTtFQUNOLFdBQVc7RUFDWCxZQUFZO0VBQ1osMENBQTBDO0VBQzFDLGVBQWU7RUFDZixhQUFhO0VBQ2IsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixtQkFBbUI7RUFDbkIsVUFBVTtBQUNaOztBQUVBO0VBQ0Usc0JBQXNCO0VBQ3RCLFVBQVU7QUFDWlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI6cm9vdCB7XFxuICAtLWZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLEJsaW5rTWFjU3lzdGVtRm9udCxcXFwiU2Vnb2UgVUlcXFwiLFJvYm90byxPeHlnZW4tU2FucyxcXG4gIFVidW50dSxDYW50YXJlbGwsXFxcIkhlbHZldGljYSBOZXVlXFxcIixzYW5zLXNlcmlmO1xcbiAgLS1jb2wtMTogd2hpdGU7XFxuICAtLWNvbC0yOiBibGFjaztcXG4gIC0tY29sLTM6IHJnYigyNTUsIDE2MywgMTYzKTtcXG59XFxuXFxuKiwgKjo6YmVmb3JlLCAqOjphZnRlciB7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuXFxuI2NvbnRlbnQge1xcbiAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtZmFtaWx5KTtcXG4gIHdpZHRoOiAxMDB2dztcXG4gIG1pbi1oZWlnaHQ6IDEwMHZoO1xcbiAgY29sb3I6IHZhcigtLWNvbC0yKTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbC0xKTtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBncmlkLXRlbXBsYXRlLXJvd3M6IGF1dG8gYXV0byAxZnI7XFxuICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XFxuICBwYWRkaW5nOiA0cmVtO1xcbiAgZ2FwOiA0cmVtO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG5cXG4vKiBNQUlOIFBBR0UgKi9cXG5cXG4jaGVhZGVyIHtcXG4gIGdyaWQtY29sdW1uOiAxIC8gLTE7XFxuICBmb250LXNpemU6IDRyZW07XFxufVxcblxcbiNmb290ZXIge1xcbiAgZ3JpZC1jb2x1bW46IDEgLyAtMTtcXG4gIGFsaWduLXNlbGY6IGVuZDtcXG4gIGNvbG9yOiB2YXIoLS1jb2wtMik7XFxufVxcblxcbiNmb290ZXIgPiBhIHtcXG4gIGNvbG9yOiB2YXIoLS1jb2wtMik7XFxufVxcblxcbiNnYW1lYm9hcmQtd3JhcHBlciB7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ2FwOiA0cmVtO1xcbiAganVzdGlmeS1pdGVtczogY2VudGVyO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIwcmVtLCAxZnIpKTtcXG59XFxuXFxuLmdhbWVib2FyZCB7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC1hdXRvLXJvd3M6IDFmcjtcXG4gIGJvcmRlcjogdGhpbiBzb2xpZCB2YXIoLS1jb2wtMik7XFxuICB3aWR0aDogMjByZW07XFxuICBoZWlnaHQ6IDIwcmVtO1xcbn1cXG5cXG4uYm9hcmQtY2VsbCB7XFxuICBib3JkZXI6IHRoaW4gc29saWQgdmFyKC0tY29sLTIpO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG5cXG4uYm9hcmQtY2VsbC5oaXQ6OmJlZm9yZSxcXG4uYm9hcmQtY2VsbC53YXRlcjo6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6ICcnO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxufVxcblxcbi5ib2FyZC1jZWxsLmhpdDo6YmVmb3JlIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbC0xKTtcXG4gIGNsaXAtcGF0aDogcG9seWdvbigyMCUgMTAlLCAxMCUgMjAlLCA0MCUgNTAlLCAxMCUgODAlLCAyMCUgOTAlLCA1MCUgNjAlLCA4MCVcXG4gIDkwJSwgOTAlIDgwJSwgNjAlIDUwJSwgOTAlIDIwJSwgODAlIDEwJSwgNTAlIDQwJSk7XFxufVxcblxcbi5ib2FyZC1jZWxsLndhdGVyOjpiZWZvcmUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sLTIpO1xcbiAgY2xpcC1wYXRoOiBwb2x5Z29uKDEwJSA4MCUsIDIwJSA5MCUsIDkwJSAyMCUsIDgwJSAxMCUpO1xcbn1cXG5cXG4uYm9hcmQtY2VsbC5zaGlwLFxcbi5ib2FyZC1jZWxsLmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbC0yKTtcXG59XFxuXFxuXFxuLmJvYXJkLWNlbGwuZW5lbXk6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sLTMpO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4uYm9hcmQtcm93IHtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBncmlkLWF1dG8tZmxvdzogY29sdW1uO1xcbiAganVzdGlmeS1jb250ZW50OiBzdGFydDtcXG4gIGdyaWQtYXV0by1jb2x1bW5zOiAxZnI7XFxufVxcblxcbi8qIFBPUFVQIFRPIFBMQUNFIFNISVBTICovXFxuXFxuI3BvcHVwLWJhY2tncm91bmQge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgdG9wOiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDk3LCA5OCwgMTE3LCAwLjU1NCk7XFxuICAvKiBtYXJnaW4tdG9wOiAtNHJlbTsgKi9cXG59XFxuXFxuI3BvcHVwIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbC0xKTtcXG4gIHBhZGRpbmc6IDRyZW07XFxuICBib3JkZXItcmFkaXVzOiAxcmVtO1xcbiAgbWFyZ2luOiA0cmVtIGF1dG87XFxuICB3aWR0aDogbWluLWNvbnRlbnQ7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAganVzdGlmeS1pdGVtczogY2VudGVyO1xcbiAgZ2FwOiAxcmVtO1xcbn1cXG5cXG4jcG9wdXAgPiBwIHtcXG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xcbn1cXG5cXG4uc2VsZWN0IHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLnNlbGVjdDpob3Zlcjo6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6ICcnO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2wtMik7XFxufVxcblxcbiNyb3RhdGUtYnV0dG9uIHtcXG4gIGFwcGVhcmFuY2U6IG5vbmU7XFxuICBwYWRkaW5nOiAwLjI1cmVtO1xcbiAgYm9yZGVyOiB0aGluIHNvbGlkIHZhcigtLWNvbC0yKTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbC0xKTtcXG4gIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcXG4gIGZvbnQtc2l6ZTogMXJlbTtcXG59XFxuXFxuI3JvdGF0ZS1idXR0b246aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg5NywgOTgsIDExNywgMC41NTQpO1xcbn1cXG5cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYwMHB4KSB7XFxuICA6cm9vdCB7XFxuICAgIGZvbnQtc2l6ZTogMC45cmVtO1xcbiAgfVxcblxcbiAgLmdhbWVib2FyZCB7XFxuICAgIHdpZHRoOiAxNXJlbTtcXG4gICAgaGVpZ2h0OiAxNXJlbTtcXG4gIH1cXG5cXG4gICNjb250ZW50IHtcXG4gICAgcGFkZGluZzogMXJlbTtcXG4gICAgZ2FwOiAycmVtO1xcbiAgfVxcblxcbiAgI2dhbWVib2FyZC13cmFwcGVyIHtcXG4gICAgZ2FwOiAycmVtO1xcbiAgfVxcblxcbiAgI3BvcHVwIHtcXG4gICAgbWFyZ2luOiAxcmVtIGF1dG87XFxuICAgIHBhZGRpbmc6IDJyZW07XFxuICAgIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcXG4gIH1cXG59XFxuXFxuLyogQU5OT1VOQ0UgV0lOTkVSICAqL1xcblxcbiN3aW5uZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgdG9wOiAwO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDk3LCA5OCwgMTE3LCAwLjczMSk7XFxuICBmb250LXNpemU6IDRyZW07XFxuICBwYWRkaW5nOiA0cmVtO1xcbiAgZGlzcGxheTogZ3JpZDtcXG4gIHBsYWNlLWl0ZW1zOiBjZW50ZXI7XFxuICBjb2xvcjogdmFyKC0tY29sLTEpO1xcbiAgb3BhY2l0eTogMDtcXG59XFxuXFxuI3dpbm5lci5zaG93IHtcXG4gIHRyYW5zaXRpb246IG9wYWNpdHkgMnM7XFxuICBvcGFjaXR5OiAxO1xcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107XG5cbiAgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07XG5cbiAgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB1cGRhdGVyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG4gIGNzcyArPSBvYmouY3NzO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9XG5cbiAgLy8gRm9yIG9sZCBJRVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge30sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgfTtcbiAgfVxuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIl9fd2VicGFja19yZXF1aXJlX18ubmMgPSB1bmRlZmluZWQ7IiwiaW1wb3J0IEdhbWVib2FyZCBmcm9tICcuL2dhbWVib2FyZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBsYXllcigpIHtcbiAgY29uc3QgYm9hcmQgPSBHYW1lYm9hcmQoKTtcblxuICBjb25zdCBhdHRhY2sgPSBmdW5jdGlvbiBhdHRhY2tFbmVteUdhbWVib2FyZCh7XG4gICAgZ2FtZWJvYXJkLFxuICAgIGNvb3JkaW5hdGVzID0gbnVsbCxcbiAgfSkge1xuICAgIGlmIChjb29yZGluYXRlcyA9PT0gbnVsbCkge1xuICAgICAgY29uc3QgZnJlZUNvb3JkaW5hdGVzID0gT2JqZWN0LmVudHJpZXMoZ2FtZWJvYXJkLmJvYXJkKVxuICAgICAgICAuZmlsdGVyKChba2V5LCB2YWx1ZV0pID0+IHZhbHVlICE9PSAnaGl0JyAmJiB2YWx1ZSAhPT0gJ21pc3MnKVxuICAgICAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IGtleSk7XG4gICAgICByZXR1cm4gZ2FtZWJvYXJkLnJlY2VpdmVBdHRhY2soXG4gICAgICAgIGZyZWVDb29yZGluYXRlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBmcmVlQ29vcmRpbmF0ZXMubGVuZ3RoKV1cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBnYW1lYm9hcmQucmVjZWl2ZUF0dGFjayhjb29yZGluYXRlcyk7XG4gIH07XG5cbiAgLy8gZ2VuZXJhdG9yIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBlYWNoIHNoaXBcbiAgY29uc3QgZiA9IChsKSA9PiAob2JqKSA9PiBib2FyZC5wbGFjZSh7IC4uLm9iaiwgbGVuZ3RoOiBsIH0pO1xuICBjb25zdCBwbGFjZVNoaXBzID0gZnVuY3Rpb24qIHBsYWNlU2hpcHNPbkdhbWVib2FyZCgpIHtcbiAgICB5aWVsZCBbJ0NhcnJpZXInLCA1LCBmKDUpXTtcbiAgICB5aWVsZCBbJ0JhdHRsZXNoaXAnLCA0LCBmKDQpXTtcbiAgICB5aWVsZCBbJ0NydWlzZXInLCAzLCBmKDMpXTtcbiAgICB5aWVsZCBbJ0Rlc3Ryb3llcicsIDIsIGYoMildO1xuICAgIHlpZWxkIFsnRGVzdHJveWVyJywgMiwgZigyKV07XG4gICAgeWllbGQgWydTdWJtYXJpbmUnLCAxLCBmKDEpXTtcbiAgICB5aWVsZCBbJ1N1Ym1hcmluZScsIDEsIGYoMSldO1xuICB9O1xuXG4gIC8vIGZ1bmN0aW9uIHRoYXQgcGxhY2VzIGFsbCBzaGlwcyByYW5kb21seSB0aGUgYnJ1dGUgZm9yY2Ugd2F5XG4gIGNvbnN0IHBsYWNlUmFuZG9tU2hpcHMgPSBmdW5jdGlvbiBwbGFjZVJhbmRvbVNoaXBzRm9yQ29tcHV0ZXJQbGF5ZXIoKSB7XG4gICAgY29uc3QgZ2VuZXJhdGVTaGlwcyA9IHBsYWNlU2hpcHMoKTtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSBbJ2hvcml6b250YWwnLCAndmVydGljYWwnXTtcbiAgICBjb25zdCB4ID0gWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsICcxMCddO1xuICAgIGNvbnN0IHkgPSBbJ2EnLCAnYicsICdjJywgJ2QnLCAnZScsICdmJywgJ2cnLCAnaCcsICdpJywgJ2onXTtcblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCBvYmogPSBnZW5lcmF0ZVNoaXBzLm5leHQoKTtcbiAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IG9iajtcbiAgICAgIGlmIChkb25lKSBicmVhaztcbiAgICAgIGNvbnN0IFssICwgcGxhY2VGdW5jdGlvbl0gPSB2YWx1ZTtcblxuICAgICAgbGV0IGNvb3JkcztcbiAgICAgIGxldCBkaXI7XG4gICAgICBkbyB7XG4gICAgICAgIGNvb3JkcyA9XG4gICAgICAgICAgeVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB5Lmxlbmd0aCldICtcbiAgICAgICAgICB4W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHgubGVuZ3RoKV07XG4gICAgICAgIGRpciA9IGRpcmVjdGlvbltNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBkaXJlY3Rpb24ubGVuZ3RoKV07XG4gICAgICB9IHdoaWxlICghcGxhY2VGdW5jdGlvbih7IHN0YXJ0OiBjb29yZHMsIGRpcmVjdGlvbjogZGlyIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBhdHRhY2ssXG4gICAgcmVjZWl2ZUF0dGFjazogYm9hcmQucmVjZWl2ZUF0dGFjayxcbiAgICBib2FyZDogYm9hcmQuYm9hcmQsXG4gICAgcGxhY2VTaGlwcyxcbiAgICBwbGFjZVJhbmRvbVNoaXBzLFxuICB9O1xufVxuIiwiaW1wb3J0IFNoaXAgZnJvbSAnLi9zaGlwJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR2FtZWJvYXJkKCkge1xuICBjb25zdCB4ID0gWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsICcxMCddO1xuICBjb25zdCB5ID0gWydhJywgJ2InLCAnYycsICdkJywgJ2UnLCAnZicsICdnJywgJ2gnLCAnaScsICdqJ107XG4gIGNvbnN0IGJvYXJkID0ge307XG5cbiAgLy8gdG8gc2F2ZSBzb21lIHR5cGluZyB0aW1lXG4gIHkuZm9yRWFjaCgoZWxlbWVudFgpID0+IHtcbiAgICB4LmZvckVhY2goKGVsZW1lbnRZKSA9PiB7XG4gICAgICBib2FyZFtlbGVtZW50WCArIGVsZW1lbnRZXSA9IG51bGw7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IHBsYWNlID0gZnVuY3Rpb24gcGxhY2VTaGlwKHsgc3RhcnQsIGRpcmVjdGlvbiwgbGVuZ3RoIH0pIHtcbiAgICBjb25zdCBzaGlwID0gU2hpcCh7IGxlbmd0aCB9KTtcbiAgICBjb25zdCB7IGxldHRlciwgbnVtYmVyIH0gPSBzdGFydC5tYXRjaChcbiAgICAgIC9eKD88bGV0dGVyPlxcdykoPzxudW1iZXI+XFxkezEsMn0pJC9cbiAgICApLmdyb3VwcztcbiAgICBsZXQgeVN0YXJ0ID0geS5pbmRleE9mKGxldHRlcik7XG4gICAgbGV0IHhTdGFydCA9IHguaW5kZXhPZihudW1iZXIpO1xuICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gW107XG5cbiAgICBmb3IgKGxldCBhID0gMDsgYSA8IGxlbmd0aDsgYSArPSAxKSB7XG4gICAgICBpZiAoYm9hcmRbeVt5U3RhcnRdICsgeFt4U3RhcnRdXSA9PT0gbnVsbCkge1xuICAgICAgICBjb29yZGluYXRlcy5wdXNoKHlbeVN0YXJ0XSArIHhbeFN0YXJ0XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAndmVydGljYWwnKSB7XG4gICAgICAgIHlTdGFydCArPSAxO1xuICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJykge1xuICAgICAgICB4U3RhcnQgKz0gMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjYWxsSGl0ID0gKHBvc2l0aW9uKSA9PiAoKSA9PiB7XG4gICAgICBzaGlwLmhpdCh7IHJlbGF0aXZlQ29vcmRpbmF0ZXM6IHBvc2l0aW9uIH0pO1xuICAgICAgcmV0dXJuIHNoaXAuaXNTdW5rKCk7XG4gICAgfTtcblxuICAgIGNvb3JkaW5hdGVzLmZvckVhY2goKGNvb3JkaW5hdGUsIGluZGV4KSA9PiB7XG4gICAgICBib2FyZFtjb29yZGluYXRlXSA9IGNhbGxIaXQoaW5kZXgpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgY29uc3QgY2hlY2tBbGxTdW5rID0gZnVuY3Rpb24gY2hlY2tJZkFsbFNoaXBzSGF2ZVN1bmsoKSB7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoYm9hcmQpLmV2ZXJ5KFxuICAgICAgKGVsZW1lbnQpID0+IHR5cGVvZiBlbGVtZW50ICE9PSAnZnVuY3Rpb24nXG4gICAgKTtcbiAgfTtcblxuICBjb25zdCByZWNlaXZlQXR0YWNrID0gZnVuY3Rpb24gcmVjZWl2ZUF0dGFjayhjb29yZGluYXRlcykge1xuICAgIGlmICh0eXBlb2YgYm9hcmRbY29vcmRpbmF0ZXNdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25zdCBpc1N1bmsgPSBib2FyZFtjb29yZGluYXRlc10oKTtcbiAgICAgIGJvYXJkW2Nvb3JkaW5hdGVzXSA9ICdoaXQnO1xuICAgICAgaWYgKGlzU3Vuaykge1xuICAgICAgICBpZiAoY2hlY2tBbGxTdW5rKCkpIHtcbiAgICAgICAgICByZXR1cm4gJ2FsbFN1bmsnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnc3Vuayc7XG4gICAgICB9XG4gICAgICByZXR1cm4gJ2hpdCc7XG4gICAgfVxuICAgIGJvYXJkW2Nvb3JkaW5hdGVzXSA9ICdtaXNzJztcbiAgICByZXR1cm4gJ21pc3MnO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgYm9hcmQsXG4gICAgcGxhY2UsXG4gICAgcmVjZWl2ZUF0dGFjayxcbiAgfTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNoaXAoeyBsZW5ndGggfSkge1xuICBjb25zdCBzaGlwID0gW107XG4gIGZvciAobGV0IHggPSAwOyB4IDwgbGVuZ3RoOyB4ICs9IDEpIHtcbiAgICBzaGlwLnB1c2godHJ1ZSk7XG4gIH1cblxuICBjb25zdCBoaXQgPSBmdW5jdGlvbiBnb3RIaXQoXG4gICAgeyByZWxhdGl2ZUNvb3JkaW5hdGVzIH0gPSB7XG4gICAgICByZWxhdGl2ZUNvb3JkaW5hdGVzOiBudWxsLFxuICAgIH1cbiAgKSB7XG4gICAgaWYgKHJlbGF0aXZlQ29vcmRpbmF0ZXMgPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vICdyZWxhdGl2ZUNvb3JkaW5hdGVzJ1wiKTtcbiAgICBpZiAocmVsYXRpdmVDb29yZGluYXRlcyA8IDAgfHwgcmVsYXRpdmVDb29yZGluYXRlcyA+PSBzaGlwLmxlbmd0aClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldyb25nICdyZWxhdGl2ZUNvb3JkaW5hdGVzJ1wiKTtcblxuICAgIHNoaXBbcmVsYXRpdmVDb29yZGluYXRlc10gPSBmYWxzZTtcbiAgfTtcblxuICBjb25zdCBpc1N1bmsgPSAoKSA9PiBzaGlwLmV2ZXJ5KChlbGVtZW50KSA9PiAhZWxlbWVudCk7XG5cbiAgcmV0dXJuIHtcbiAgICBoaXQsXG4gICAgaXNTdW5rLFxuICB9O1xufVxuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiaW1wb3J0IFBsYXllciBmcm9tICcuL3BsYXllcic7XG5pbXBvcnQgRG9tIGZyb20gJy4vZG9tJztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuXG5sZXQgcGxheWVyO1xubGV0IGNvbXB1dGVyO1xubGV0IGRvbTtcblxuY29uc3QgZ2FtZWxvb3AgPSBmdW5jdGlvbiBnYW1lbG9vcCgpIHtcbiAgcGxheWVyID0gUGxheWVyKCk7XG4gIGNvbXB1dGVyID0gUGxheWVyKCk7XG4gIGlmIChkb20pIGRvbS5yZW1vdmUoKTtcbiAgZG9tID0gRG9tKCk7XG5cbiAgZG9tLmJ1aWxkTWFpblBhZ2UoKGNvb3JkcykgPT4ge1xuICAgIGxldCBhdHRhY2tSZXR1cm4gPSBwbGF5ZXIuYXR0YWNrKHtcbiAgICAgIGdhbWVib2FyZDogY29tcHV0ZXIsXG4gICAgICBjb29yZGluYXRlczogY29vcmRzLFxuICAgIH0pO1xuICAgIGRvbS5yZW5kZXIocGxheWVyLmJvYXJkLCBjb21wdXRlci5ib2FyZCk7XG4gICAgaWYgKGF0dGFja1JldHVybiA9PT0gJ2FsbFN1bmsnKSB7XG4gICAgICBkb20uYW5ub3VuY2VXaW5uZXIoYFRoZSBwbGF5ZXIgaXMgdGhlIHdpbm5lcmApO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGdhbWVsb29wKCk7XG4gICAgICB9LCA1MDAwKTtcbiAgICB9XG4gICAgYXR0YWNrUmV0dXJuID0gY29tcHV0ZXIuYXR0YWNrKHsgZ2FtZWJvYXJkOiBwbGF5ZXIgfSk7XG4gICAgZG9tLnJlbmRlcihwbGF5ZXIuYm9hcmQsIGNvbXB1dGVyLmJvYXJkKTtcbiAgICBpZiAoYXR0YWNrUmV0dXJuID09PSAnYWxsU3VuaycpIHtcbiAgICAgIGRvbS5hbm5vdW5jZVdpbm5lcihgVGhlIGNvbXB1dGVyIGlzIHRoZSB3aW5uZXJgKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBnYW1lbG9vcCgpO1xuICAgICAgfSwgNTAwMCk7XG4gICAgfVxuICB9KTtcblxuICBkb20uYnVpbGRQbGFjZVNoaXBQb3B1cChwbGF5ZXIucGxhY2VTaGlwcygpLCAoKSA9PiB7XG4gICAgY29tcHV0ZXIucGxhY2VSYW5kb21TaGlwcygpO1xuICAgIGRvbS5yZW5kZXIocGxheWVyLmJvYXJkLCBjb21wdXRlci5ib2FyZCk7XG4gIH0pO1xufTtcblxuZ2FtZWxvb3AoKTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERvbSgpIHtcbiAgY29uc3QgY3JlYXRlID0gKHR5cGUgPSBcImRpdlwiKSA9PiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuXG4gIGNvbnN0IGNvbnRlbnQgPSBjcmVhdGUoKTtcbiAgY29udGVudC5pZCA9IFwiY29udGVudFwiO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZChjb250ZW50KTtcblxuICBjb25zdCBwbGF5ZXJCb2FyZCA9IHt9O1xuICBjb25zdCBlbmVteUJvYXJkID0ge307XG5cbiAgY29uc3QgeSA9IFtcImFcIiwgXCJiXCIsIFwiY1wiLCBcImRcIiwgXCJlXCIsIFwiZlwiLCBcImdcIiwgXCJoXCIsIFwiaVwiLCBcImpcIl07XG4gIGNvbnN0IHggPSBbXCIxXCIsIFwiMlwiLCBcIjNcIiwgXCI0XCIsIFwiNVwiLCBcIjZcIiwgXCI3XCIsIFwiOFwiLCBcIjlcIiwgXCIxMFwiXTtcblxuICBjb25zdCBidWlsZEJvYXJkID0gZnVuY3Rpb24gYnVpbGRCb2FyZChib2FyZENvbnRhaW5lciwgYm9hcmQgPSBudWxsKSB7XG4gICAgeS5mb3JFYWNoKChyb3cpID0+IHtcbiAgICAgIGNvbnN0IHJvd0NvbnRhaW5lciA9IGNyZWF0ZSgpO1xuICAgICAgcm93Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJib2FyZC1yb3dcIik7XG4gICAgICB4LmZvckVhY2goKGNvbHVtbikgPT4ge1xuICAgICAgICBjb25zdCBjZWxsID0gY3JlYXRlKCk7XG4gICAgICAgIGlmIChib2FyZCAhPT0gbnVsbCkgYm9hcmRbcm93ICsgY29sdW1uXSA9IGNlbGw7XG4gICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZChcImJvYXJkLWNlbGxcIik7XG4gICAgICAgIHJvd0NvbnRhaW5lci5hcHBlbmQoY2VsbCk7XG4gICAgICB9KTtcbiAgICAgIGJvYXJkQ29udGFpbmVyLmFwcGVuZChyb3dDb250YWluZXIpO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGdldFNoaXBDb29yZGluYXRlcyA9IGZ1bmN0aW9uIGdldFNoaXBDb29yZGluYXRlcyh7XG4gICAgc3RhcnQsXG4gICAgZGlyZWN0aW9uLFxuICAgIGxlbmd0aCxcbiAgfSkge1xuICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gW107XG4gICAgY29uc3QgeyBsZXR0ZXIsIG51bWJlciB9ID0gc3RhcnQubWF0Y2goXG4gICAgICAvXig/PGxldHRlcj5cXHcpKD88bnVtYmVyPlxcZHsxLDJ9KSQvXG4gICAgKS5ncm91cHM7XG4gICAgbGV0IHlTdGFydCA9IHkuaW5kZXhPZihsZXR0ZXIpO1xuICAgIGxldCB4U3RhcnQgPSB4LmluZGV4T2YobnVtYmVyKTtcbiAgICBmb3IgKGxldCBhID0gMDsgYSA8IGxlbmd0aDsgYSArPSAxKSB7XG4gICAgICBpZiAoeVN0YXJ0IDwgMTAgJiYgeFN0YXJ0IDwgMTApIHtcbiAgICAgICAgY29vcmRpbmF0ZXMucHVzaCh5W3lTdGFydF0gKyB4W3hTdGFydF0pO1xuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBcInZlcnRpY2FsXCIpIHtcbiAgICAgICAgICB5U3RhcnQgKz0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09IFwiaG9yaXpvbnRhbFwiKSB7XG4gICAgICAgICAgeFN0YXJ0ICs9IDE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29vcmRpbmF0ZXM7XG4gIH07XG5cbiAgY29uc3QgYnVpbGRNYWluUGFnZSA9IGZ1bmN0aW9uIGJ1aWxkTWFpblBhZ2UoYXR0YWNrKSB7XG4gICAgY29uc3QgaGVhZGVyID0gY3JlYXRlKFwiaDFcIik7XG4gICAgaGVhZGVyLmlkID0gXCJoZWFkZXJcIjtcbiAgICBoZWFkZXIudGV4dENvbnRlbnQgPSBcIkJhdHRsZXNoaXBcIjtcblxuICAgIGNvbnN0IHBsYXllckJvYXJkQ29udGFpbmVyID0gY3JlYXRlKCk7XG4gICAgcGxheWVyQm9hcmRDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImdhbWVib2FyZFwiKTtcbiAgICBidWlsZEJvYXJkKHBsYXllckJvYXJkQ29udGFpbmVyLCBwbGF5ZXJCb2FyZCk7XG5cbiAgICBjb25zdCBlbmVteUJvYXJkQ29udGFpbmVyID0gY3JlYXRlKCk7XG4gICAgZW5lbXlCb2FyZENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZ2FtZWJvYXJkXCIpO1xuICAgIGJ1aWxkQm9hcmQoZW5lbXlCb2FyZENvbnRhaW5lciwgZW5lbXlCb2FyZCk7XG5cbiAgICBPYmplY3QuZW50cmllcyhlbmVteUJvYXJkKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIHZhbHVlLmNsYXNzTGlzdC5hZGQoXCJlbmVteVwiKTtcbiAgICAgIGZ1bmN0aW9uIGNsaWNrRW5lbXlDZWxsKCkge1xuICAgICAgICBhdHRhY2soa2V5KTtcbiAgICAgICAgdmFsdWUuY2xhc3NMaXN0LnJlbW92ZShcImVuZW15XCIpO1xuICAgICAgICB2YWx1ZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xpY2tFbmVteUNlbGwpO1xuICAgICAgfVxuICAgICAgdmFsdWUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrRW5lbXlDZWxsKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGJvYXJkc0NvbnRhaW5lciA9IGNyZWF0ZSgpO1xuICAgIGJvYXJkc0NvbnRhaW5lci5pZCA9IFwiZ2FtZWJvYXJkLXdyYXBwZXJcIjtcbiAgICBib2FyZHNDb250YWluZXIuYXBwZW5kKHBsYXllckJvYXJkQ29udGFpbmVyLCBlbmVteUJvYXJkQ29udGFpbmVyKTtcblxuICAgIGNvbnN0IGZvb3RlciA9IGNyZWF0ZShcInBcIik7XG4gICAgZm9vdGVyLmlkID0gXCJmb290ZXJcIjtcbiAgICBjb25zdCBmb290ZXJMaW5rID0gY3JlYXRlKFwiYVwiKTtcbiAgICBmb290ZXJMaW5rLnRleHRDb250ZW50ID0gXCJWaWV3IFByb2plY3QgT24gR2l0aHViXCI7XG4gICAgZm9vdGVyTGluay5ocmVmID0gXCJodHRwczovL2dpdGh1Yi5jb20vVG9tU29lcnIvb2Rpbi1iYXR0bGVzaGlwXCI7XG4gICAgZm9vdGVyLmFwcGVuZChmb290ZXJMaW5rKTtcblxuICAgIGNvbnRlbnQuYXBwZW5kKGhlYWRlciwgYm9hcmRzQ29udGFpbmVyLCBmb290ZXIpO1xuXG4gICAgLy8gQWRkZWQgYWZ0ZXJ3YXJkcyBub3QgcGFydCBvZiB0aGUgcHJvamVjdFxuXG4gICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIik7XG4gICAgdGVtcGxhdGUuaW5uZXJIVE1MID0gYFxuICAgICAgICA8YVxuICAgICAgc3R5bGU9XCJcbiAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICBib3R0b206IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBjb2xvcjogYmxhY2s7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XG4gICAgICAgIHBhZGRpbmc6IDJweDtcbiAgICAgICAgYm9yZGVyOiB0aGluIHNvbGlkIGJsYWNrO1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICAgIFwiXG4gICAgICBocmVmPVwiaHR0cHM6Ly90b21zb2Vyci5naXRodWIuaW8vIy9pbXByZXNzdW1cIlxuICAgID5cbiAgICAgIEltcHJpbnRcbiAgICA8L2E+XG4gICAgPHNwYW5cbiAgICAgIHN0eWxlPVwiXG4gICAgICAgIHotaW5kZXg6IDEwMDA7XG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICBjb2xvcjogYmxhY2s7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XG4gICAgICAgIHBhZGRpbmc6IDJweDtcbiAgICAgICAgYm9yZGVyOiB0aGluIHNvbGlkIGJsYWNrO1xuICAgICAgXCJcbiAgICA+XG4gICAgICBOb3QgYSBjb21tZXJjaWFsIHNpdGUsIG9ubHkgZm9yIGVkdWNhdGlvbmFsIHB1cnBvc2VzLlxuICAgIDwvc3Bhbj5gO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRlbXBsYXRlLmNvbnRlbnQpO1xuICB9O1xuXG4gIC8vIGJ1aWxkIHRoZSBwb3B1cCB0byBwbGFjZSB0aGUgc2hpcHMgb24gdGhlIGJvYXJkXG4gIGNvbnN0IGJ1aWxkUGxhY2VTaGlwUG9wdXAgPSBmdW5jdGlvbiBidWlsZFBsYWNlU2hpcFBvcHVwKHBsYWNlU2hpcHMsIHJlbmRlcikge1xuICAgIGNvbnN0IHBvcHVwQ29udGFpbmVyID0gY3JlYXRlKCk7XG4gICAgcG9wdXBDb250YWluZXIuaWQgPSBcInBvcHVwXCI7XG4gICAgY29uc3QgcG9wdXBCYWNrZ3JvdW5kQ29udGFpbmVyID0gY3JlYXRlKCk7XG4gICAgcG9wdXBCYWNrZ3JvdW5kQ29udGFpbmVyLmlkID0gXCJwb3B1cC1iYWNrZ3JvdW5kXCI7XG5cbiAgICBjb25zdCBoZWFkZXIgPSBjcmVhdGUoXCJoMlwiKTtcbiAgICBoZWFkZXIudGV4dENvbnRlbnQgPSBcIlBsYWNlIHlvdXIgc2hpcHNcIjtcblxuICAgIGNvbnN0IHNoaXBOYW1lID0gY3JlYXRlKFwicFwiKTtcbiAgICBsZXQgbGVuZ3RoO1xuICAgIGxldCBwbGFjZTtcbiAgICBbc2hpcE5hbWUudGV4dENvbnRlbnQsIGxlbmd0aCwgcGxhY2VdID0gcGxhY2VTaGlwcy5uZXh0KCkudmFsdWU7XG5cbiAgICAvLyB0byBwbGFjZSB0aGUgc2hpcHMgdmVydGljYWwgYW5kIGhvcml6b250YWxcbiAgICBsZXQgdmVydGljYWwgPSBmYWxzZTtcbiAgICBjb25zdCByb3RhdGVCdXR0b24gPSBjcmVhdGUoXCJidXR0b25cIik7XG4gICAgcm90YXRlQnV0dG9uLmlkID0gXCJyb3RhdGUtYnV0dG9uXCI7XG4gICAgcm90YXRlQnV0dG9uLnRleHRDb250ZW50ID0gXCJSb3RhdGVcIjtcbiAgICByb3RhdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHZlcnRpY2FsID0gIXZlcnRpY2FsO1xuICAgIH0pO1xuXG4gICAgLy8gYm9hcmQgd2hlcmUgdGhlIHNoaXBzIGFyZSBwbGFjZWQgb24gMTB4MTBcbiAgICBjb25zdCBzZWxlY3RCb2FyZENvbnRhaW5lciA9IGNyZWF0ZSgpO1xuICAgIHNlbGVjdEJvYXJkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJnYW1lYm9hcmRcIik7XG4gICAgbGV0IHNlbGVjdEJvYXJkID0ge307XG4gICAgYnVpbGRCb2FyZChzZWxlY3RCb2FyZENvbnRhaW5lciwgc2VsZWN0Qm9hcmQpO1xuXG4gICAgLy8gYWRkIGFuIGV2ZW50TGlzdGVuZXIgb24gZWFjaCBib2FyZCBjZWxsIHdpdGggYSBsaW5rZWQgZnVuY3Rpb24gZnJvbVxuICAgIC8vIHRoZSBwbGF5ZXJCb2FyZC4gVGhlIGdldFNoaXBDb29yZGluYXRlcyB3aWxsIHJldHVybiBhIGFycmF5IHdpdGhcbiAgICAvLyBjb29yZGluYXRlcyB0aGF0IHNob3VsZCBiZSBjb2xvcmVkXG4gICAgT2JqZWN0LmVudHJpZXMoc2VsZWN0Qm9hcmQpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgdmFsdWUuY2xhc3NMaXN0LmFkZChcInNlbGVjdFwiKTtcbiAgICAgIHZhbHVlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHZlcnRpY2FsID8gXCJ2ZXJ0aWNhbFwiIDogXCJob3Jpem9udGFsXCI7XG4gICAgICAgIGlmIChwbGFjZSh7IHN0YXJ0OiBrZXksIGRpcmVjdGlvbiB9KSkge1xuICAgICAgICAgIGdldFNoaXBDb29yZGluYXRlcyh7IGxlbmd0aCwgZGlyZWN0aW9uLCBzdGFydDoga2V5IH0pLmZvckVhY2goXG4gICAgICAgICAgICAoY29vcmRpbmF0ZXMpID0+IHtcbiAgICAgICAgICAgICAgc2VsZWN0Qm9hcmRbY29vcmRpbmF0ZXNdLmNsYXNzTGlzdC5hZGQoXCJzaGlwXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgZ2VuVmFsdWUgPSBwbGFjZVNoaXBzLm5leHQoKS52YWx1ZTtcbiAgICAgICAgICAvLyBjaGVjayBpZiBhbGwgc2hpcHMgYXJlIHBsYWNlZFxuICAgICAgICAgIGlmIChnZW5WYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBbc2hpcE5hbWUudGV4dENvbnRlbnQsIGxlbmd0aCwgcGxhY2VdID0gZ2VuVmFsdWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvcHVwQmFja2dyb3VuZENvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgICAgIHNlbGVjdEJvYXJkID0gbnVsbDtcbiAgICAgICAgICAgIHJlbmRlcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB2YWx1ZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHZlcnRpY2FsID8gXCJ2ZXJ0aWNhbFwiIDogXCJob3Jpem9udGFsXCI7XG4gICAgICAgIGdldFNoaXBDb29yZGluYXRlcyh7IGxlbmd0aCwgZGlyZWN0aW9uLCBzdGFydDoga2V5IH0pLmZvckVhY2goXG4gICAgICAgICAgKGNvb3JkaW5hdGVzKSA9PiB7XG4gICAgICAgICAgICBzZWxlY3RCb2FyZFtjb29yZGluYXRlc10uY2xhc3NMaXN0LmFkZChcImhvdmVyXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgdmFsdWUuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSB2ZXJ0aWNhbCA/IFwidmVydGljYWxcIiA6IFwiaG9yaXpvbnRhbFwiO1xuICAgICAgICBnZXRTaGlwQ29vcmRpbmF0ZXMoeyBsZW5ndGgsIGRpcmVjdGlvbiwgc3RhcnQ6IGtleSB9KS5mb3JFYWNoKFxuICAgICAgICAgIChjb29yZGluYXRlcykgPT4ge1xuICAgICAgICAgICAgc2VsZWN0Qm9hcmRbY29vcmRpbmF0ZXNdLmNsYXNzTGlzdC5yZW1vdmUoXCJob3ZlclwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHBvcHVwQ29udGFpbmVyLmFwcGVuZChoZWFkZXIsIHNoaXBOYW1lLCByb3RhdGVCdXR0b24sIHNlbGVjdEJvYXJkQ29udGFpbmVyKTtcbiAgICBwb3B1cEJhY2tncm91bmRDb250YWluZXIuYXBwZW5kKHBvcHVwQ29udGFpbmVyKTtcblxuICAgIGNvbnRlbnQuYXBwZW5kKHBvcHVwQmFja2dyb3VuZENvbnRhaW5lcik7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyR2FtZWJvYXJkcyhwbGF5ZXIsIGNvbXB1dGVyKSB7XG4gICAgT2JqZWN0LmVudHJpZXMocGxheWVyKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICBjYXNlIHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiOlxuICAgICAgICAgIHBsYXllckJvYXJkW2tleV0uY2xhc3NMaXN0LmFkZChcInNoaXBcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgdmFsdWUgPT09IFwibWlzc1wiOlxuICAgICAgICAgIHBsYXllckJvYXJkW2tleV0uY2xhc3NMaXN0LmFkZChcIndhdGVyXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHZhbHVlID09PSBcImhpdFwiOlxuICAgICAgICAgIHBsYXllckJvYXJkW2tleV0uY2xhc3NMaXN0LmFkZChcImhpdFwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgIH1cbiAgICB9KTtcbiAgICBPYmplY3QuZW50cmllcyhjb21wdXRlcikuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICBpZiAodmFsdWUgPT09IFwibWlzc1wiKSB7XG4gICAgICAgIGVuZW15Qm9hcmRba2V5XS5jbGFzc0xpc3QuYWRkKFwid2F0ZXJcIik7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBcImhpdFwiKSB7XG4gICAgICAgIGVuZW15Qm9hcmRba2V5XS5jbGFzc0xpc3QuYWRkKFwic2hpcFwiKTtcbiAgICAgICAgZW5lbXlCb2FyZFtrZXldLmNsYXNzTGlzdC5hZGQoXCJoaXRcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlID0gKCkgPT4ge1xuICAgIHdoaWxlIChkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZG9jdW1lbnQuYm9keS5sYXN0Q2hpbGQpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBhbm5vdW5jZVdpbm5lciA9IGZ1bmN0aW9uIGFubm91bmNlV2lubmVyKHRleHQpIHtcbiAgICBjb25zdCB3aW5uZXIgPSBjcmVhdGUoKTtcbiAgICB3aW5uZXIudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIHdpbm5lci5pZCA9IFwid2lubmVyXCI7XG4gICAgY29udGVudC5hcHBlbmQod2lubmVyKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHdpbm5lci5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcbiAgICB9LCAxKTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGJ1aWxkTWFpblBhZ2UsXG4gICAgYnVpbGRQbGFjZVNoaXBQb3B1cCxcbiAgICByZW5kZXIsXG4gICAgcmVtb3ZlLFxuICAgIGFubm91bmNlV2lubmVyLFxuICB9O1xufVxuIl0sIm5hbWVzIjpbIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwicHVzaCIsIm1vZHVsZSIsImlkIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJuZWVkTGF5ZXIiLCJjb25jYXQiLCJsZW5ndGgiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYSIsImRlZHVwZSIsInN1cHBvcnRzIiwibGF5ZXIiLCJ1bmRlZmluZWQiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiayIsIl9rIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic291cmNlTWFwcGluZyIsInN0eWxlc0luRE9NIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwib3B0aW9ucyIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsImJhc2UiLCJjb3VudCIsImluZGV4QnlJZGVudGlmaWVyIiwib2JqIiwiY3NzIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRFbGVtZW50U3R5bGUiLCJieUluZGV4Iiwic3BsaWNlIiwiYXBpIiwiZG9tQVBJIiwidXBkYXRlIiwibmV3T2JqIiwicmVtb3ZlIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsImluZGV4IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJtZW1vIiwiaW5zZXJ0Iiwic3R5bGUiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIndpbmRvdyIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJnZXRUYXJnZXQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwiZWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsInN0eWxlRWxlbWVudCIsIm5vbmNlIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGVUYWdUcmFuc2Zvcm0iLCJhcHBseSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZVN0eWxlRWxlbWVudCIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiZmlyc3RDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJuYyIsIlBsYXllciIsImJvYXJkIiwieCIsInkiLCJmb3JFYWNoIiwiZWxlbWVudFgiLCJlbGVtZW50WSIsInBsYWNlIiwic3RhcnQiLCJkaXJlY3Rpb24iLCJzaGlwIiwiaGl0IiwicmVsYXRpdmVDb29yZGluYXRlcyIsImlzU3VuayIsImV2ZXJ5IiwiU2hpcCIsImxldHRlciIsIm51bWJlciIsIm1hdGNoIiwiZ3JvdXBzIiwieVN0YXJ0IiwiaW5kZXhPZiIsInhTdGFydCIsImNvb3JkaW5hdGVzIiwiY29vcmRpbmF0ZSIsInBvc2l0aW9uIiwicmVjZWl2ZUF0dGFjayIsInZhbHVlcyIsIkdhbWVib2FyZCIsImYiLCJsIiwicGxhY2VTaGlwcyIsImF0dGFjayIsImdhbWVib2FyZCIsImZyZWVDb29yZGluYXRlcyIsImVudHJpZXMiLCJmaWx0ZXIiLCJ2YWx1ZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInBsYWNlUmFuZG9tU2hpcHMiLCJnZW5lcmF0ZVNoaXBzIiwibmV4dCIsImRvbmUiLCJwbGFjZUZ1bmN0aW9uIiwiY29vcmRzIiwiZGlyIiwicGxheWVyIiwiY29tcHV0ZXIiLCJkb20iLCJsb2NhbHMiLCJnYW1lbG9vcCIsImNyZWF0ZSIsInR5cGUiLCJib2R5IiwiYXBwZW5kIiwicGxheWVyQm9hcmQiLCJlbmVteUJvYXJkIiwiYnVpbGRCb2FyZCIsImJvYXJkQ29udGFpbmVyIiwicm93Iiwicm93Q29udGFpbmVyIiwiY2xhc3NMaXN0IiwiYWRkIiwiY29sdW1uIiwiY2VsbCIsImdldFNoaXBDb29yZGluYXRlcyIsImJ1aWxkTWFpblBhZ2UiLCJoZWFkZXIiLCJ0ZXh0Q29udGVudCIsInBsYXllckJvYXJkQ29udGFpbmVyIiwiZW5lbXlCb2FyZENvbnRhaW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGlja0VuZW15Q2VsbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJib2FyZHNDb250YWluZXIiLCJmb290ZXIiLCJmb290ZXJMaW5rIiwiaHJlZiIsInRlbXBsYXRlIiwiaW5uZXJIVE1MIiwiYnVpbGRQbGFjZVNoaXBQb3B1cCIsInJlbmRlciIsInBvcHVwQ29udGFpbmVyIiwicG9wdXBCYWNrZ3JvdW5kQ29udGFpbmVyIiwic2hpcE5hbWUiLCJ2ZXJ0aWNhbCIsInJvdGF0ZUJ1dHRvbiIsInNlbGVjdEJvYXJkQ29udGFpbmVyIiwic2VsZWN0Qm9hcmQiLCJnZW5WYWx1ZSIsImxhc3RDaGlsZCIsImFubm91bmNlV2lubmVyIiwidGV4dCIsIndpbm5lciIsInNldFRpbWVvdXQiLCJEb20iLCJhdHRhY2tSZXR1cm4iXSwic291cmNlUm9vdCI6IiJ9